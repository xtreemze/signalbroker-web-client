(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["test"],{"13b3":function(e,t,a){},"78c1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("VCard",{staticClass:"marginToolbar"},[a("VToolbar",{attrs:{card:"",color:"transparent"}},[a("VIcon",[e._v("\n        bug_report\n      ")]),a("VToolbarTitle",[e._v("\n        Diagnostic\n      ")])],1),a("VCardText",{staticClass:"overflowY py-3"},[a("VLayout",[a("VSlider",{attrs:{max:32,min:0,step:1,"thumb-label":"",label:"Service"},model:{value:e.service,callback:function(t){e.service=e._n(t)},expression:"service"}})],1),a("VLayout",[a("VRangeSlider",{attrs:{max:255,min:0,step:1,"thumb-label":"",label:"PID Range"},model:{value:e.pid,callback:function(t){e.pid=t},expression:"pid"}})],1)],1),a("VDivider"),a("VCardActions",[a("VLayout",{attrs:{row:"",wrap:""}},[a("VBtn",{attrs:{depressed:"",color:"grey",flat:""},on:{click:function(t){e.scanResults=[]}}},[e._v("\n          Clear\n        ")]),a("VSpacer"),a("VBtn",{attrs:{depressed:"",color:"success"},on:{click:e.scanObd}},[e._v("\n          OBD Scan\n        ")]),e.subscribed?e._e():a("VBtn",{attrs:{color:"green",depressed:""},on:{click:e.queryVin}},[e._v("\n          Query VIN\n        ")]),e.subscribed?a("VBtn",{attrs:{color:"error",depressed:""},on:{click:e.stopdiagnosticsQuery}},[e._v("\n          Cancel\n        ")]):a("VBtn",{attrs:{color:"green",depressed:""},on:{click:e.queryObd}},[e._v("\n          Query OBD\n        ")])],1)],1)],1),a("VSnackbar",{attrs:{bottom:"",right:"",color:e.snackbarColor,timeout:8e3},model:{value:e.snackbarDisplayed,callback:function(t){e.snackbarDisplayed=t},expression:"snackbarDisplayed"}},[a("VLayout",[a("VIcon",{attrs:{left:""}},[e._v("\n        "+e._s(e.snackbarIcon)+"\n      ")]),e._v("\n      "+e._s(e.snackbarMessage)+"\n    ")],1),a("VBtn",{attrs:{flat:""},nativeOn:{click:function(t){e.value=!1}}},[a("VIcon",[e._v("\n        close\n      ")])],1)],1),a("VDataTable",{staticClass:"mt-4 elevation-2",attrs:{headers:e.headers,items:e.scanResults,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v("\n        "+e._s(e._f("toDate")(t.item.date))+"\n      ")]),a("td",[e._v("\n        "+e._s(t.item.name)+"\n      ")]),a("td",{staticClass:"text-xs-left monoSpace"},[a("span",{staticClass:"monoSpace text-truncate text-uppercase"},e._l(t.item.serviceId,function(t,s){return a("span",{key:s},[e.rawStringLength(t)<2?a("span",[e._v("0")]):e._e(),e._v(e._s(e._f("rawStringFilter")(t))+"\n          ")])}),0)]),a("td",{staticClass:"text-xs-left monoSpace"},[a("span",{staticClass:"monoSpace text-truncate text-uppercase"},e._l(t.item.pIdHex,function(t,s){return a("span",{key:s},[e.rawStringLength(t)<2?a("span",[e._v("0")]):e._e(),e._v(e._s(e._f("rawStringFilter")(t))+"\n          ")])}),0)]),a("td",{staticClass:"text-xs-left monoSpace"},[a("span",{staticClass:"monoSpace text-truncate text-uppercase"},e._l(t.item.pIdHex,function(t,s){return a("span",{key:s},[t<10?a("span",[e._v("00")]):t<100?a("span",[e._v("0")]):e._e(),e._v(e._s(t)+"\n          ")])}),0)]),a("td",{staticClass:"text-xs-left monoSpace"},[a("span",{staticClass:"monoSpace text-truncate text-uppercase"},e._l(t.item.data,function(t,s){return a("span",{key:s},[e.rawStringLength(t)<2?a("span",[e._v("0")]):e._e(),e._v(e._s(e._f("rawStringFilter")(t))+"\n          ")])}),0)])]}}])})],1)},n=[],i=(a("34ef"),a("ac6a"),a("6b54"),a("9508"),{name:"Diagnostic",filters:{rawStringFilter:function(e){return e.toString(16)},toDate:function(e){var t=new Date(e);return t.toLocaleTimeString({},{hour12:!1})}},data:function(){return{snackbarDisplayed:!1,service:1,pid:[0,64],chipValue:[],subscribed:!1,request:"",diagnosticsQuery:null,dataHistory:52,snackbarMessage:"Not connected",snackbarIcon:"warning",snackbarColor:"error",responseArray:[],signalDataList:[],firstRun:!0,chipOnline:[],selected:!1,diagnosticsServiceClient:null,responsePayload:null,scanResults:[],headers:[{text:"Date",value:"date",align:"left",sortable:!0},{text:"Operation",value:"id",align:"left",sortable:!0},{text:"Service",value:"serviceId",align:"left",sortable:!0},{text:"PID Hex",value:"pIdHex",align:"left",sortable:!0},{text:"PID Dec",value:"pIdHex",align:"left",sortable:!0},{text:"Raw Data",value:"data",class:"grow",align:"left",sortable:!0}]}},computed:{hexPidIndex:{get:function(){return"0x"+this.scanPidIndex.toString(16)}},hexServiceIndex:{get:function(){return"0x"+this.scanServiceIndex.toString(16)}},connectionStatus:{get:function(){return this.$store.state.connectionStatus},set:function(e){this.$store.commit("updateConnectionStatus",e)}},brokerServerIp:{get:function(){return this.$store.state.brokerServerIp},set:function(e){this.$store.commit("updateBrokerServerIp",e)}},selectedSignals:{get:function(){return this.$store.state.selectedSignals},set:function(e){this.$store.commit("updateSelectedSignals",e)}},requestHistory:{get:function(){return this.$store.state.requestHistory},set:function(e){this.$store.commit("updateRequestHistory",e)}}},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){var e=this.connectionStatus;this.stopdiagnosticsQuery(),this.connectionStatus=e},methods:{rawStringLength:function(e){return e.toString(16).length},snackbar:function(e,t,a){this.snackbarColor=e,this.snackbarMessage=t,this.snackbarIcon=a||"warning",this.snackbarDisplayed=!0},queryVinInteractive:function(){this.request="Query VIN";var e=[];this.selectedSignals.forEach(function(t){t.signalId&&e.push(t.signalId)});var t=new api.default.DiagnosticsRequest;t.setDownlink(e[0]),t.setUplink(e[1]);var a=new Uint8Array(1);a[0]=34,t.setServiceid(a);var s=new Uint8Array(2);s[0]=241,s[1]=144,t.setDataidentifier(s),this.diagnosticsRequest(t)},queryVin:function(){this.request="VIN Diagnostic";var e=new api.default.DiagnosticsRequest,t=new api.default.NameSpace;t.setName("ChassisCANhs");var a=new api.default.SignalId;a.setName("PscmToVddmChasDiagResFrame"),a.setNamespace(t);var s=new api.default.SignalId;s.setName("VddmToAllFuncChasDiagReqFrame"),s.setNamespace(t),e.setDownlink(a),e.setUplink(s);var n=new Uint8Array(1);n[0]=34,e.setServiceid(n);var i=new Uint8Array(2);i[0]=241,i[1]=144,e.setDataidentifier(i),this.diagnosticsRequest(e)},queryObdInteractive:function(){this.request="Query OBD";var e=[];this.selectedSignals.forEach(function(t){t.signalId&&e.push(t.signalId)});var t=new api.default.DiagnosticsRequest;t.setDownlink(e[0]),t.setUplink(e[1]);var a=new Uint8Array(1);a[0]=1,t.setServiceid(a);var s=new Uint8Array(1);s[0]=66,t.setDataidentifier(s),this.diagnosticsRequest(t)},queryObd:function(){this.request="Query OBD";var e=new api.default.DiagnosticsRequest,t=new api.default.NameSpace;t.setName("PropulsionCANhs");var a=new api.default.SignalId;a.setName("EcmToEtcCarbPropDiagResFrame"),a.setNamespace(t),e.setDownlink(a);var s=new api.default.SignalId;s.setName("EtcToAllCarbPropDiagReqFrame"),s.setNamespace(t),e.setUplink(s);var n=new Uint8Array(1);n[0]=1,e.setServiceid(n);var i=new Uint8Array(1);i[0]=141,e.setDataidentifier(i),this.diagnosticsRequest(e)},scanObd:function(){for(var e=this.pid[0];e<this.pid[1];e+=1){this.request="OBD Scan";var t=new api.default.DiagnosticsRequest,a=new api.default.NameSpace;a.setName("PropulsionCANhs");var s=new api.default.SignalId;s.setName("EcmToEtcCarbPropDiagResFrame"),s.setNamespace(a),t.setDownlink(s);var n=new api.default.SignalId;n.setName("EtcToAllCarbPropDiagReqFrame"),n.setNamespace(a),t.setUplink(n);var i=new Uint8Array(1);i[0]="0x"+this.service.toString(16),t.setServiceid(i);var r=new Uint8Array(1);r[0]="0x"+e.toString(16),t.setDataidentifier(r),this.diagnosticsRequest(t)}},diagnosticsRequest:function(e){var t=this,a=new api.default.DiagnosticsServiceClient(this.brokerServerIp);this.diagnosticsQuery=a.sendDiagnosticsQuery(e),this.diagnosticsQuery.on("data",function(a){t.responseQuery(a,e),t.snackbar("success","Connected","check"),"success--text"!==t.connectionStatus&&(t.connectionStatus="success--text")}),this.diagnosticsQuery.on("end",function(){t.snackbarDisplayed=!1}),this.diagnosticsQuery.on("status",function(e){e.details.length>1&&(t.snackbar("info",e.details,"info"),t.subscribed=!1)}),this.diagnosticsQuery.on("error",function(e){t.snackbar("error",e.message,"warning"),t.connectionStatus="error--text"}),this.$store.commit("updateRequestHistory",this.requestHistory)},stopdiagnosticsQuery:function(){this.request="Cancel Subscription",this.diagnosticsQuery,this.subscribed=!1,this.$store.commit("updateRequestHistory",this.requestHistory)},responseQuery:function(e,t){this.subscribed=!1;var a={name:this.request,data:e.getRaw_asU8(),date:Date.now(),serviceId:t.getServiceid_asU8(),pIdHex:t.getDataidentifier_asU8()};this.scanResults.push(a)}}}),r=i,c=(a("ae10"),a("2877")),o=a("6544"),u=a.n(o),l=a("8336"),d=a("b0af"),p=a("99d9"),g=a("8fea"),f=a("ce7e"),v=a("132d"),h=a("a722"),b=a("5963"),m=a("ba0d"),S=a("2db4"),y=a("9910"),w=a("71d9"),D=a("2a7f"),k=Object(c["a"])(r,s,n,!1,null,null,null);t["default"]=k.exports;u()(k,{VBtn:l["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VDataTable:g["a"],VDivider:f["a"],VIcon:v["a"],VLayout:h["a"],VRangeSlider:b["a"],VSlider:m["a"],VSnackbar:S["a"],VSpacer:y["a"],VToolbar:w["a"],VToolbarTitle:D["a"]})},ae10:function(e,t,a){"use strict";var s=a("13b3"),n=a.n(s);n.a}}]);
//# sourceMappingURL=test.0ecec3cc.js.map
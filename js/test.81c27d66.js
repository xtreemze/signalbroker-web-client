(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["test"],{"78c1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("VContainer",{attrs:{"grid-list-xl":""}},[s("VLayout",{attrs:{row:"",wrap:""}},[s("VFlex",{attrs:{xs12:"",md3:""}},[s("VLayout",{attrs:{row:"",wrap:""}},[s("VFlex",[s("VCard",[s("VCardTitle",[s("h2",[t._v("\n                List signals\n              ")])]),s("VCardActions",[s("VBtn",{attrs:{depressed:""},on:{click:function(e){return t.listSignals("ChassisCANhs")}}},[t._v("\n                Chassis\n              ")]),s("VBtn",{attrs:{depressed:""},on:{click:function(e){return t.listSignals("BodyCANhs")}}},[t._v("\n                Body\n              ")])],1)],1)],1),s("VFlex",[s("VCard",[s("VCardTitle",[s("h2",[t._v("\n                Get Configuration\n              ")])]),s("VCardActions",[s("VBtn",{attrs:{depressed:""},on:{click:t.getConfiguration}},[t._v("\n                Get\n              ")]),s("VBtn",{attrs:{depressed:""},on:{click:t.fetchLists}},[t._v("\n                Lists\n              ")])],1)],1)],1),s("VFlex",[s("VCard",[s("VCardTitle",[s("h2",[t._v("\n                Subscribe\n              ")])]),s("VCardActions",[s("VBtn",{attrs:{depressed:""},on:{click:function(e){return t.subscribe("DDMBodyFr01BodyCANhs64")}}},[t._v("\n                Subscribe\n              ")])],1)],1)],1)],1)],1),s("VFlex",{attrs:{grow:""}},[s("VCard",{attrs:{"mt-5":""}},[s("VCardTitle",[s("h2",[t._v("\n            Response\n          ")])]),s("VCardText",[s("VDataTable",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.requestHistory,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v("\n                "+t._s(new Date(e.item.date).toLocaleDateString())+"\n              ")]),s("td",[t._v("\n                "+t._s(e.item.request)+"\n              ")]),s("td",[t._v("\n                "+t._s(e.item.response)+"\n              ")])]}}])})],1)],1)],1)],1)],1)},n=[],r=(s("ac6a"),s("0a0d")),i=s.n(r),o=(s("9508"),{data:function(){return{headers:[{value:"date",text:"Date"},{value:"request",text:"Request"},{value:"message",text:"Response"}],request:"",requestHistory:[]}},computed:{connectionStatus:{get:function(){return this.$store.state.connectionStatus},set:function(t){this.$store.commit("updateConnectionStatus",t)}},storedEventHistory:{get:function(){return this.$store.state.requestHistory},set:function(t){this.$store.commit("updateRequestHistory",t)}}},watch:{},created:function(){this.requestHistory=this.storedEventHistory},methods:{listSignals:function(t){this.request=t;var e=new api.default.SystemServiceClient(this.$store.state.brokerServerIp),s=new api.default.NameSpace;s.setName(t),e.listSignals(s,{},this.callBack),this.connectionStatus="success--text";var a={date:i()(),request:this.request,response:"Signals listed"};this.requestHistory.push(a),this.$store.commit("updateRequestHistory",this.requestHistory)},callBack:function(t,e){e&&console.error("listSingal error: ",t)},getConfiguration:function(){this.request="GetConfiguration";var t=new api.default.SystemServiceClient(this.$store.state.brokerServerIp),e=new api.default.Empty;t.getConfiguration(e,{},this.callBack)},fetchLists:function(){this.request=name;var t=new api.default.NetworkServiceClient(this.$store.state.brokerServerIp),e=new api.default.Empty;t.getConfiguration(e,{},this.fetchListsCallback)},fetchListsCallback:function(t,e){if(e){this.connectionStatus;var s=e.getConfigurationList();s.forEach(function(t){console.log("nameSpace",t.getNamespace().getName())})}else this.connectionStatus},subscribe:function(t,e){var s=this;this.request="Subscribe";var a=new api.default.NetworkServiceClient(this.$store.state.brokerServerIp),n=new api.default.NameSpace;n.setName("SafetyCANexposed");var r=new api.default.SignalId;r.setNamespace(n),r.setName("ASDMSafeExpoFr16");var o=[];o.push(r);var u=new api.default.SignalIds;u.setSignalidList(o);var c=new api.default.SubscriberConfig,l=new api.default.ClientId;l.setId("my_client"),c.setSignals(u),c.setClientid(l),c.setOnchange(!1);var d=a.subscribeToSignals(c);console.log("stream",d),d.on("data",function(t){var e=t.getSignalList();e.forEach(function(t){var e=t.getId().getName(),s=t.getDouble();console.log("data",e,s),console.log("signal",t);var a="";return t.hasDouble()?a=t.getDouble():t.hasInteger()?a=t.getInteger():t.hasArbitration()?a=t.getArbitration():t.hasEmpty()&&(a=t.getEmpty()),console.log("signalData",a),a})}),setTimeout(function(){d.cancel(),s.request="Cancel Sub";var t={date:i()(),request:s.request,response:r.getName()};s.requestHistory.push(t),s.$store.commit("updateRequestHistory",s.requestHistory)},3e3);var h={date:i()(),request:this.request,response:r.getName()};this.requestHistory.push(h),this.$store.commit("updateRequestHistory",this.requestHistory)}}}),u=o,c=s("2877"),l=s("6544"),d=s.n(l),h=s("8336"),f=s("b0af"),p=s("99d9"),g=s("12b2"),v=s("a523"),m=s("8fea"),C=s("0e8f"),S=s("a722"),V=Object(c["a"])(u,a,n,!1,null,null,null);e["default"]=V.exports;d()(V,{VBtn:h["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:g["a"],VContainer:v["a"],VDataTable:m["a"],VFlex:C["a"],VLayout:S["a"]})}}]);
//# sourceMappingURL=test.81c27d66.js.map